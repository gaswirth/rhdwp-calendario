{"version":3,"sources":["components/common/FieldGroup.js","ViewContext.js","components/ViewOptions.js","components/common/Widget.js","lib/utils.js","components/CalendarListHeader.js","components/Header.js","components/Day.js","PostsContext.js","DragContext.js","components/Post.js","components/common/Loading.js","lib/updatePost.js","components/PostList.js","components/common/NewPostButton.js","lib/hooks.js","components/DayPosts.js","components/Calendar.js","components/List.js","components/EditPost.js","components/Main.js","components/UnscheduledDrafts.js","components/StatusFilters.js","components/Sidebar.js","App.js","reportWebVitals.js","index.js"],"names":["FieldGroup","name","label","inlineLabel","children","className","htmlFor","ViewContext","createContext","viewReducer","state","action","type","viewMode","monthCount","viewRange","start","end","addMonths","subMonths","initialViewOptions","ViewOptions","useContext","viewOptions","viewOptionsDispatch","handleViewModeChange","e","target","value","onClick","today","startOfToday","startOfWeek","disabled","startOfDay","isSameWeek","min","onChange","Widget","title","nonce","routeBase","postStatuses","window","rhdReactPlugin","restBase","dateFormat","filterUnchangedParams","params","post","length","key","omit","renderWidget","CalendarListHeader","preventDefault","format","Header","Day","day","monthName","classes","isToday","push","isPast","join","PostsContext","initialPosts","currentPost","id","post_title","post_status","post_date","unscheduled","refetch","dateRange","scheduled","postsReducer","scheduledPosts","posts","forEach","index","Date","unscheduledPosts","field","DragContext","dragReducer","isDragging","draggedFrom","draggedTo","draggedOver","overUnscheduled","initialDrag","Post","allowDrag","postsDispatch","draggedPost","draggedPostDispatch","useState","colors","setColors","date","setDate","useEffect","color","backgroundColor","handleDragStart","draggingUnscheduled","currentTarget","parentNode","classList","contains","Number","dataset","handleDragEnd","handleClick","isEmpty","data-index","draggable","onDragStart","onDragEnd","style","decode","scope","renderPost","Loading","initialUpdateState","updateNow","delete","updateReducer","PostList","allowDrop","loadingState","useReducer","updatePost","updatePostDispatch","isLoading","setIsLoading","undefined","url","postData","data","error","headers","a","fetch","method","body","JSON","stringify","response","json","console","log","message","fetchData","handleDragOver","overNow","isNaN","targetRect","getBoundingClientRect","mouseY","clientY","top","listItems","childNodes","itemCount","offsetTop","handleDrop","listProps","onDragOver","onDrop","map","renderPostList","NewPostButton","useFetchScheduledPosts","startDate","endDate","res","DayPosts","dayPosts","isSameDay","useDayPosts","renderList","Calendar","endOfWeek","renderDaysHeaderRow","useCallback","days","i","addDays","renderDays","rows","firstCalendarDay","dayIsFirstDay","isFirstDayOfMonth","renderEmpty","List","endOfDay","newPostButton","initialEditPost","editMode","editPostReducer","newDate","EditPost","editPost","editPostDispatch","node","useRef","allowedStatuses","setAllowedStatuses","deletePostClicked","setDeletePostClicked","exclude","isFuture","statusList","filtered","includes","filterStatusList","handleClickOutside","current","document","removeEventListener","addEventListener","handleInputChange","ref","onSubmit","post_excerpt","closeOnScroll","selected","checked","Object","keys","status","image","href","edit_link","rel","src","alt","fontWeight","Main","UnscheduledDrafts","useFetchUnscheduledPosts","StatusFilters","fontSize","item","Sidebar","marginLeft","paddingLeft","listStylePosition","App","defaultValue","stickyValue","localStorage","getItem","parse","setValue","setItem","useStickyState","view","setView","onRender","phase","actualDuration","baseDuration","startTime","commitTime","interactions","Provider","appAnchorElement","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","appSelector","querySelector","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.dbc4413f.chunk.js","sourcesContent":["import React from \"react\";\n\nexport default function FieldGroup({ name, label, inlineLabel, children }) {\n\tconst renderInput = () => {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={`sidebarInput fieldGroup fieldGroup__${name} ${\n\t\t\t\t\tinlineLabel ? \"inlineLabel\" : \"\"\n\t\t\t\t}`}\n\t\t\t>\n\t\t\t\t{label ? <label htmlFor={name}>{label}</label> : null}\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn renderInput();\n}\n","import { createContext } from \"react\";\nimport { addMonths, subMonths } from \"date-fns\";\n\nconst ViewContext = createContext({});\nexport default ViewContext;\n\nexport function viewReducer(state, action) {\n\tswitch (action.type) {\n\t\tcase \"UPDATE_OPTION\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tviewMode: action.viewMode ? action.viewMode : state.viewMode,\n\t\t\t\tmonthCount: action.monthCount\n\t\t\t\t\t? action.monthCount\n\t\t\t\t\t: state.monthCount,\n\t\t\t};\n\n\t\tcase \"SET_RANGE\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tviewRange: {\n\t\t\t\t\tstart: action.start,\n\t\t\t\t\tend: action.end,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase \"NEXT_MONTH\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tviewRange: {\n\t\t\t\t\tstart: addMonths(state.viewRange.start, 1),\n\t\t\t\t\tend: addMonths(state.viewRange.end, 1),\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase \"PREV_MONTH\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tviewRange: {\n\t\t\t\t\tstart: subMonths(state.viewRange.start, 1),\n\t\t\t\t\tend: subMonths(state.viewRange.end, 1),\n\t\t\t\t},\n\t\t\t};\n\n\t\t// TODO see if RESET_VIEW is used...\n\t\tcase \"RESET_VIEW\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tviewRange: initialViewOptions.viewRange,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport const initialViewOptions = {\n\tviewMode: \"\",\n\tmonthCount: 1,\n\tviewRange: {\n\t\tstart: null,\n\t\tend: null,\n\t},\n};\n","import React, { useContext } from \"react\";\nimport FieldGroup from \"./common/FieldGroup\";\nimport {\n\tstartOfToday,\n\tstartOfDay,\n\tstartOfWeek,\n\tisSameWeek,\n\taddMonths,\n} from \"date-fns\";\n\nimport ViewContext from \"../ViewContext\";\n\nexport default function ViewOptions() {\n\tconst {\n\t\tviewOptions: { viewMode, monthCount, viewRange },\n\t\tviewOptionsDispatch,\n\t} = useContext(ViewContext);\n\n\tconst handleToday = () => {\n\t\tlet today = startOfToday();\n\n\t\tviewOptionsDispatch({\n\t\t\ttype: \"SET_RANGE\",\n\t\t\tstart: viewMode === \"calendar\" ? startOfWeek(today) : today,\n\t\t\tend: addMonths(today, monthCount),\n\t\t});\n\t};\n\n\tconst handleMonthCountChange = (e) => {\n\t\tviewOptionsDispatch({\n\t\t\ttype: \"UPDATE_OPTION\",\n\t\t\tmonthCount: e.target.value,\n\t\t});\n\t};\n\n\tconst handleViewModeChange = (e) => {\n\t\tviewOptionsDispatch({\n\t\t\ttype: \"UPDATE_OPTION\",\n\t\t\tviewMode: e.target.value,\n\t\t});\n\t};\n\n\treturn (\n\t\t<div className=\"viewOptions\">\n\t\t\t<button\n\t\t\t\tonClick={handleToday}\n\t\t\t\tdisabled={\n\t\t\t\t\tstartOfDay(viewRange.start) === startOfToday() ||\n\t\t\t\t\tisSameWeek(viewRange.start, startOfToday())\n\t\t\t\t}\n\t\t\t>\n\t\t\t\tJump to Today\n\t\t\t</button>\n\t\t\t<FieldGroup name=\"viewMode\">\n\t\t\t\t<button\n\t\t\t\t\tonClick={handleViewModeChange}\n\t\t\t\t\tclassName={viewMode === \"calendar\" ? \"active \" : \"inactive\"}\n\t\t\t\t\tvalue=\"calendar\"\n\t\t\t\t>\n\t\t\t\t\tCalendar\n\t\t\t\t</button>\n\t\t\t\t<button\n\t\t\t\t\tname=\"viewMode\"\n\t\t\t\t\tonClick={handleViewModeChange}\n\t\t\t\t\tclassName={viewMode === \"list\" ? \"active \" : \"inactive\"}\n\t\t\t\t\tvalue=\"list\"\n\t\t\t\t>\n\t\t\t\t\tList\n\t\t\t\t</button>\n\t\t\t</FieldGroup>\n\t\t\t<FieldGroup name=\"monthCount\" label=\"Months\" inlineLabel={true}>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"number\"\n\t\t\t\t\tmin={1}\n\t\t\t\t\tvalue={monthCount}\n\t\t\t\t\tonChange={handleMonthCountChange}\n\t\t\t\t\tclassName=\"mini\"\n\t\t\t\t/>\n\t\t\t</FieldGroup>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\n\nexport default function Widget({ title, className, children }) {\n\treturn (\n\t\t<div className={`widget ${className}`}>\n\t\t\t{title ? <h3 className=\"widgetTitle\">{title}</h3> : null}\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n","import { omit } from \"lodash\";\nimport Widget from \"../components/common/Widget\";\n\n// TODO: DEV MODE\nexport const DEBUG_MODE =\n\tprocess.env.REACT_APP_DEBUG_MODE === \"true\" ? true : false;\nexport var nonce, routeBase, postStatuses;\nif (DEBUG_MODE !== true) {\n\t// WP mode\n\tnonce = window.rhdReactPlugin.nonce; // Live\n\trouteBase = window.rhdReactPlugin.restBase; // Live\n\tpostStatuses = window.rhdReactPlugin.postStatuses; // Live\n} else {\n\t// non-WP mode\n\tnonce = 0;\n\trouteBase = \"http://localhost/wp-json/calendario/v1/posts\";\n\tpostStatuses = {\n\t\tpublish: {\n\t\t\tname: \"Publish\",\n\t\t\tbackgroundColor: \"cornflowerblue\",\n\t\t\tcolor: \"white\",\n\t\t},\n\t\tdraft: {\n\t\t\tname: \"Draft\",\n\t\t\tbackgroundColor: \"silver\",\n\t\t\tcolor: \"white\",\n\t\t},\n\t\tfuture: {\n\t\t\tname: \"Future\",\n\t\t\tbackgroundColor: \"lightseagreen\",\n\t\t\tcolor: \"white\",\n\t\t},\n\t\tpending: {\n\t\t\tname: \"Pending\",\n\t\t\tbackgroundColor: \"lightcoral\",\n\t\t\tcolor: \"white\",\n\t\t},\n\t\tprivate: {\n\t\t\tname: \"Private\",\n\t\t\tbackgroundColor: \"maroon\",\n\t\t\tcolor: \"white\",\n\t\t},\n\t};\n}\n// ODOT\n\nexport const dateFormat = {\n\tday: \"d\",\n\tdate: \"yyyy-MM-dd\",\n\tyear: \"yyyy\",\n\tdayName: \"EEEE\",\n\tmonthName: \"MMMM\",\n\tmonthShort: \"MMM\",\n\tfullDate: \"EEEE,  MMMM dd, yyyy\",\n\tdaylessDate: \"MMMM dd, yyyy\",\n};\n\n/**\n * Produces a filtered list of post status objects.\n *\n * @param {array} exclude keys to exclude.\n * @return {object} The filtered postStatuses object.\n */\nexport function filterStatusList(exclude = []) {\n\tlet filtered = postStatuses;\n\tif (exclude.length > 0) {\n\t\tfor (let key in postStatuses) {\n\t\t\tif (exclude.includes(key)) {\n\t\t\t\tfiltered = omit(filtered, key);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn filtered;\n}\n\n/**\n *\n * @param {object} params  Key/value post parameters to update\n * @param {*} post The post to check against\n * @returns {object} The filtered params object\n */\nexport function filterUnchangedParams(params, post) {\n\tif (params.length > 0) {\n\t\tfor (let key in params) {\n\t\t\tif (params[key] === post[key]) {\n\t\t\t\tparams = omit(params, key);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn params;\n}\n\nexport const renderWidget = (title, className, children) => {\n\treturn (\n\t\t<Widget title={title} className={`widget__${className}`}>\n\t\t\t{children}\n\t\t</Widget>\n\t);\n};\n","import { format } from \"date-fns\";\nimport { useContext } from \"react\";\nimport { dateFormat } from \"../lib/utils\";\n\nimport ViewContext from \"../ViewContext\";\n\nexport default function CalendarListHeader({ start, end }) {\n\tconst { viewOptionsDispatch } = useContext(ViewContext);\n\n\tconst nextMonth = (e) => {\n\t\te.preventDefault();\n\t\tviewOptionsDispatch({ type: \"NEXT_MONTH\" });\n\t};\n\n\tconst prevMonth = (e) => {\n\t\te.preventDefault();\n\t\tviewOptionsDispatch({ type: \"PREV_MONTH\" });\n\t};\n\n\treturn (\n\t\t<div className=\"calendarListHeader row flex-middle\">\n\t\t\t<div className=\"col col__start\">\n\t\t\t\t<button className=\"icon dateChevron\" onClick={prevMonth}>\n\t\t\t\t\tchevron_left\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div className=\"col col__center\">\n\t\t\t\t<h3 className=\"viewTitle\">Scheduled Posts</h3>\n\t\t\t\t<p className=\"viewRange\">\n\t\t\t\t\t{start && end\n\t\t\t\t\t\t? `${format(\n\t\t\t\t\t\t\t\tstart,\n\t\t\t\t\t\t\t\tdateFormat.daylessDate\n\t\t\t\t\t\t  )} \\u2014 ${format(end, dateFormat.daylessDate)}`\n\t\t\t\t\t\t: null}\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div className=\"col col__end\">\n\t\t\t\t<button className=\"icon dateChevron\" onClick={nextMonth}>\n\t\t\t\t\tchevron_right\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React, { useContext } from \"react\";\nimport ViewOptions from \"./ViewOptions\";\nimport CalendarListHeader from \"./CalendarListHeader\";\n\nimport ViewContext from \"../ViewContext\";\n\nexport default function Header() {\n\tconst {\n\t\tviewOptions: { viewRange },\n\t} = useContext(ViewContext);\n\n\treturn (\n\t\t<header className=\"calendario__header\">\n\t\t\t<div className=\"calendario__header__content\">\n\t\t\t\t<div className=\"left\">\n\t\t\t\t\t<CalendarListHeader\n\t\t\t\t\t\tstart={viewRange.start}\n\t\t\t\t\t\tend={viewRange.end}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"right\">\n\t\t\t\t\t<ViewOptions />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</header>\n\t);\n}\n","import React from \"react\";\nimport { dateFormat } from \"../lib/utils\";\nimport { format, isToday, isPast } from \"date-fns\";\n\nexport default function Day({ className, day, monthName, children }) {\n\tvar classes = [\"day\", \"col\", \"cell\"];\n\tif (isToday(day)) {\n\t\tclasses.push(\"today\");\n\t}\n\tif (isPast(day) && !isToday(day)) {\n\t\tclasses.push(\"past\");\n\t}\n\n\treturn (\n\t\t<div className={classes.join(\" \")}>\n\t\t\t{monthName ? <span className=\"month\">{monthName}</span> : \"\"}\n\t\t\t<span className=\"number\">{format(day, dateFormat.day)}</span>\n\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n","import { createContext } from \"react\";\n\nconst PostsContext = createContext({});\nexport default PostsContext;\n\nexport const initialPosts = {\n\tcurrentPost: {\n\t\tid: null,\n\t\tpost_title: \"\",\n\t\tpost_status: \"\",\n\t\tpost_date: \"\",\n\t\tunscheduled: null,\n\t},\n\trefetch: false,\n\tdateRange: {\n\t\tstart: \"\",\n\t\tend: \"\",\n\t},\n\tunscheduled: [],\n\tscheduled: [],\n};\n\nexport function postsReducer(state, action) {\n\tswitch (action.type) {\n\t\tcase \"SET_SCHEDULED\":\n\t\t\tlet scheduledPosts = action.posts;\n\n\t\t\t// cast the date as a Date object\n\t\t\tscheduledPosts.forEach((post, index) => {\n\t\t\t\tscheduledPosts[index].post_date = new Date(post.post_date);\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdateRange: {\n\t\t\t\t\tstart: action.start,\n\t\t\t\t\tend: action.end,\n\t\t\t\t},\n\t\t\t\tscheduled: scheduledPosts,\n\t\t\t};\n\n\t\tcase \"SET_UNSCHEDULED\":\n\t\t\tlet unscheduledPosts = action.posts;\n\n\t\t\t// cast the date as a Date object\n\t\t\tunscheduledPosts.forEach((post, index) => {\n\t\t\t\tunscheduledPosts[index].post_date = new Date(post.post_date);\n\t\t\t});\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tunscheduled: unscheduledPosts,\n\t\t\t};\n\n\t\tcase \"REFETCH\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\trefetch: !state.refetch,\n\t\t\t};\n\n\t\tcase \"SET_CURRENTPOST\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentPost: {\n\t\t\t\t\t...action.post,\n\t\t\t\t\tunscheduled: action.unscheduled,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase \"NEW_POST\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentPost: {\n\t\t\t\t\tid: 0,\n\t\t\t\t\tpost_date: action.post_date,\n\t\t\t\t\tunscheduled: action.unscheduled,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase \"UPDATE_CURRENTPOST_FIELD\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentPost: {\n\t\t\t\t\t...state.currentPost,\n\t\t\t\t\t[action.field]: action.value,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase \"UNSET_CURRENTPOST\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcurrentPost: initialPosts.currentPost,\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","import { createContext } from \"react\";\n\nconst DragContext = createContext(null);\nexport default DragContext;\n\nexport function dragReducer(state, action) {\n\tswitch (action.type) {\n\t\tcase \"START\":\n\t\t\treturn {\n\t\t\t\tpost: action.post,\n\t\t\t\tisDragging: true,\n\t\t\t\tdraggedFrom:\n\t\t\t\t\taction.draggedFrom >= 0 ? action.draggedFrom : false,\n\t\t\t};\n\n\t\tcase \"DRAGGING_OVER_UNSCHEDULED\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdraggedTo: action.draggedOver,\n\t\t\t\toverUnscheduled: true,\n\t\t\t};\n\n\t\tcase \"DRAGGING_OVER_SCHEDULED\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdraggedTo: null,\n\t\t\t\toverUnscheduled: false,\n\t\t\t};\n\n\t\tcase \"END\": {\n\t\t\treturn initialDrag;\n\t\t}\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nexport const initialDrag = {\n\tpost: {},\n\tisDragging: false,\n\tdraggedFrom: null,\n\tdraggedTo: null,\n\toverUnscheduled: false,\n};\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { postStatuses } from \"../lib/utils\";\nimport { isEmpty } from \"lodash\";\nimport { isPast, isToday } from \"date-fns\";\nimport { decode } from \"html-entities\";\n\nimport PostsContext from \"../PostsContext\";\nimport DragContext from \"../DragContext\";\n\nexport default function Post({ post, index, allowDrag }) {\n\tconst {\n\t\tposts: { currentPost },\n\t\tpostsDispatch,\n\t} = useContext(PostsContext);\n\tconst {\n\t\tdraggedPost: { isDragging, draggedFrom, draggedTo },\n\t\tdraggedPostDispatch,\n\t} = useContext(DragContext);\n\tconst [colors, setColors] = useState({});\n\tconst [date, setDate] = useState(new Date());\n\n\tuseEffect(() => {\n\t\tsetDate(new Date(post.post_date));\n\t}, [post.post_date]);\n\n\tuseEffect(() => {\n\t\tsetColors({\n\t\t\tcolor: postStatuses[post.post_status].color,\n\t\t\tbackgroundColor: postStatuses[post.post_status].backgroundColor,\n\t\t});\n\t}, [post.post_status]);\n\n\tconst handleDragStart = (e) => {\n\t\tlet draggingUnscheduled = e.currentTarget.parentNode.classList.contains(\n\t\t\t\"unscheduledDrafts\"\n\t\t)\n\t\t\t? true\n\t\t\t: false;\n\n\t\tdraggedPostDispatch({\n\t\t\ttype: \"START\",\n\t\t\tpost: post,\n\t\t\tdraggedFrom: draggingUnscheduled\n\t\t\t\t? Number(e.currentTarget.dataset.index)\n\t\t\t\t: false,\n\t\t});\n\t};\n\n\tconst handleDragEnd = () => draggedPostDispatch({ type: \"END\" });\n\n\tconst handleClick = (e) => {\n\t\tlet unscheduled =\n\t\t\te.target.classList.contains(\"unscheduledDrafts\") ||\n\t\t\te.target.parentNode.classList.contains(\"unscheduledDrafts\")\n\t\t\t\t? true\n\t\t\t\t: false;\n\n\t\tpostsDispatch({\n\t\t\ttype: \"SET_CURRENTPOST\",\n\t\t\tpost: post,\n\t\t\tunscheduled: unscheduled,\n\t\t});\n\t};\n\n\tconst renderPost = () => {\n\t\tlet classes = [\n\t\t\t\"post\",\n\t\t\t`post-id-${post.id} status__${post.post_status}`,\n\t\t];\n\t\tif (isDragging) {\n\t\t\tif (draggedTo === Number(index)) {\n\t\t\t\tclasses.push(\"dropArea\");\n\n\t\t\t\tif (draggedFrom === false) {\n\t\t\t\t\tclasses.push(\"fromNowhere\");\n\t\t\t\t} else if (draggedFrom < draggedTo) {\n\t\t\t\t\tclasses.push(\"fromAbove\");\n\t\t\t\t} else if (draggedFrom > draggedTo) {\n\t\t\t\t\tclasses.push(\"fromBelow\");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (draggedFrom === Number(index)) {\n\t\t\t\tclasses.push(\"dragging\");\n\t\t\t}\n\t\t}\n\n\t\tif (!isEmpty(currentPost) && currentPost.id === post.id) {\n\t\t\tclasses.push(\"currentPost\");\n\t\t}\n\n\t\treturn (\n\t\t\t<li\n\t\t\t\tid={post.id}\n\t\t\t\tclassName={classes.join(\" \")}\n\t\t\t\tdata-index={index}\n\t\t\t\tdraggable={\n\t\t\t\t\tallowDrag === true || (!isToday(date) && !isPast(date))\n\t\t\t\t\t\t? true\n\t\t\t\t\t\t: false\n\t\t\t\t}\n\t\t\t\tonDragStart={handleDragStart}\n\t\t\t\tonDragEnd={handleDragEnd}\n\t\t\t\tonClick={handleClick}\n\t\t\t>\n\t\t\t\t<p\n\t\t\t\t\tclassName=\"postData\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: colors.backgroundColor,\n\t\t\t\t\t\tcolor: colors.color,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{decode(post.post_title, { scope: \"strict\" })}\n\t\t\t\t</p>\n\t\t\t</li>\n\t\t);\n\t};\n\n\treturn post ? renderPost() : null;\n}\n","import React from \"react\";\n\nexport default function Loading({ className }) {\n\treturn (\n\t\t<div className={`loadingOverlay ${className}`}>\n\t\t\t<div className=\"roller\">\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t\t<div></div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","export const initialUpdateState = {\n\tupdateNow: false,\n\tdelete: false,\n\tparams: {},\n\tunscheduled: false,\n};\n\nexport function updateReducer(state, action) {\n\tswitch (action.type) {\n\t\tcase \"UPDATE\":\n\t\t\treturn {\n\t\t\t\tupdateNow: true,\n\t\t\t\tparams: action.params,\n\t\t\t\tunscheduled: action.unscheduled,\n\t\t\t};\n\n\t\tcase \"UPDATING\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tupdateNow: false,\n\t\t\t};\n\n\t\tcase \"DELETE\":\n\t\t\treturn {\n\t\t\t\tdelete: true,\n\t\t\t\tupdateNow: true,\n\t\t\t\tparams: action.params,\n\t\t\t};\n\n\t\tcase \"COMPLETE\":\n\t\t\treturn initialUpdateState;\n\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n","import React, { useContext, useEffect, useReducer, useState } from \"react\";\nimport Post from \"./Post\";\nimport Loading from \"./common/Loading\";\nimport {\n\tdateFormat,\n\trouteBase,\n\tfilterUnchangedParams,\n\tnonce,\n\tDEBUG_MODE,\n} from \"../lib/utils\";\nimport { updateReducer, initialUpdateState } from \"../lib/updatePost\";\nimport { format } from \"date-fns\";\nimport { isEmpty } from \"lodash\";\n\nimport PostsContext from \"../PostsContext\";\nimport DragContext from \"../DragContext\";\n\nexport default function PostList({\n\tposts,\n\tclassName,\n\tallowDrag,\n\tallowDrop,\n\tdate,\n\tloadingState,\n}) {\n\tconst {\n\t\tposts: { currentPost },\n\t\tpostsDispatch,\n\t} = useContext(PostsContext);\n\tconst {\n\t\tdraggedPost: { post, draggedTo, draggedFrom, overUnscheduled },\n\t\tdraggedPostDispatch,\n\t} = useContext(DragContext);\n\tconst [updatePost, updatePostDispatch] = useReducer(\n\t\tupdateReducer,\n\t\tinitialUpdateState\n\t);\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (loadingState === undefined || loadingState === null) {\n\t\t\treturn;\n\t\t}\n\n\t\tsetIsLoading(loadingState);\n\n\t\treturn () => {\n\t\t\tsetIsLoading(false);\n\t\t};\n\t}, [loadingState]);\n\n\t// DND update trigger!\n\tuseEffect(() => {\n\t\tif (updatePost.updateNow === true && post.id !== \"undefined\") {\n\t\t\tupdatePostDispatch({\n\t\t\t\ttype: \"UPDATING\",\n\t\t\t});\n\n\t\t\tlet url = `${routeBase}/update/${post.id}`;\n\t\t\tlet postData = {\n\t\t\t\tparams: filterUnchangedParams(updatePost.params, post),\n\t\t\t\tunscheduled: updatePost.unscheduled,\n\t\t\t};\n\n\t\t\tif (draggedTo !== null) {\n\t\t\t\tpostData.draggedTo = draggedTo;\n\t\t\t}\n\n\t\t\tif (isEmpty(postData)) {\n\t\t\t\treturn { data: \"Update not necessary.\", error: true };\n\t\t\t}\n\n\t\t\t// TODO: DEV MODE\n\t\t\tvar headers = {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t};\n\t\t\tif (DEBUG_MODE !== true) {\n\t\t\t\theaders[\"X-WP-Nonce\"] = nonce;\n\t\t\t}\n\t\t\t// ODOT\n\n\t\t\tconst fetchData = async () => {\n\t\t\t\tsetIsLoading(true);\n\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch(url, {\n\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\theaders,\n\t\t\t\t\t\tbody: JSON.stringify(postData),\n\t\t\t\t\t});\n\t\t\t\t\t// const data = await response.json(); // If you need to catch the response...\n\t\t\t\t\tawait response.json();\n\n\t\t\t\t\tpostsDispatch({\n\t\t\t\t\t\ttype: \"REFETCH\",\n\t\t\t\t\t});\n\t\t\t\t\tdraggedPostDispatch({\n\t\t\t\t\t\ttype: \"END\",\n\t\t\t\t\t});\n\t\t\t\t\tupdatePostDispatch({\n\t\t\t\t\t\ttype: \"COMPLETE\",\n\t\t\t\t\t});\n\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error.message);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchData();\n\t\t}\n\t}, [updatePost, draggedTo, draggedPostDispatch, post, postsDispatch]);\n\n\tconst handleDragOver = (e) => {\n\t\te.preventDefault();\n\n\t\tif (allowDrag === false) return;\n\n\t\tif (e.currentTarget.classList.contains(\"unscheduledDrafts\")) {\n\t\t\t// let overNow =\n\t\t\t// \tdraggedFrom === false\n\t\t\t// \t\t? Number(e.target.dataset.index) + 1\n\t\t\t// \t\t: Number(e.target.dataset.index);\n\n\t\t\tlet overNow = Number(e.target.dataset.index);\n\n\t\t\tlet draggedOver = false;\n\t\t\tif (draggedFrom === overNow) {\n\t\t\t\treturn;\n\t\t\t} else {\n\t\t\t\tdraggedOver = Number.isNaN(overNow) ? false : overNow;\n\t\t\t}\n\n\t\t\tif (draggedOver !== draggedTo) {\n\t\t\t\tif (draggedOver === false) {\n\t\t\t\t\tlet targetRect = e.currentTarget.getBoundingClientRect();\n\t\t\t\t\tlet mouseY = e.clientY - targetRect.top;\n\t\t\t\t\tconst listItems = e.currentTarget.childNodes;\n\t\t\t\t\tlet itemCount = listItems.length;\n\n\t\t\t\t\tif (\n\t\t\t\t\t\tlistItems.length === 0 ||\n\t\t\t\t\t\tmouseY < listItems[0].offsetTop\n\t\t\t\t\t) {\n\t\t\t\t\t\tdraggedOver = 0;\n\t\t\t\t\t} else if (mouseY >= listItems[itemCount - 1].offsetTop) {\n\t\t\t\t\t\tdraggedOver = itemCount;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdraggedOver = itemCount - 1;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tdraggedPostDispatch({\n\t\t\t\t\ttype: \"DRAGGING_OVER_UNSCHEDULED\",\n\t\t\t\t\tdraggedOver,\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (overUnscheduled === true) {\n\t\t\t// Only update if necessary\n\t\t\tdraggedPostDispatch({\n\t\t\t\ttype: \"DRAGGING_OVER_SCHEDULED\",\n\t\t\t});\n\t\t}\n\t};\n\n\tconst handleDrop = () => {\n\t\tif (allowDrop !== false) {\n\t\t\tupdatePostDispatch({\n\t\t\t\ttype: \"UPDATE\",\n\t\t\t\tparams: {\n\t\t\t\t\tpost_date:\n\t\t\t\t\t\tdate === false\n\t\t\t\t\t\t\t? format(post.post_date, dateFormat.date)\n\t\t\t\t\t\t\t: format(date, dateFormat.date),\n\t\t\t\t},\n\t\t\t\t// unscheduled: date === false ? true : false,\n\t\t\t\tunscheduled: overUnscheduled,\n\t\t\t});\n\n\t\t\tif (currentPost.id === post.id) {\n\t\t\t\tpostsDispatch({\n\t\t\t\t\ttype: \"UPDATE_CURRENTPOST_FIELD\",\n\t\t\t\t\tfield: \"post_date\",\n\t\t\t\t\tvalue: date,\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t};\n\n\tconst renderPostList = () => {\n\t\tlet listProps = {\n\t\t\tclassName: `postList ${className}`,\n\t\t\tonDragOver: handleDragOver,\n\t\t};\n\n\t\tif (allowDrop !== false) {\n\t\t\tlistProps.onDrop = handleDrop;\n\t\t} else {\n\t\t\tlistProps.className += \" dropDisabled\";\n\t\t}\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Loading className={isLoading ? \"active\" : null} />\n\t\t\t\t<ul {...listProps}>\n\t\t\t\t\t{posts.map((post, index) => (\n\t\t\t\t\t\t<Post\n\t\t\t\t\t\t\tpost={post}\n\t\t\t\t\t\t\tkey={post.id}\n\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\tallowDrag={allowDrag}\n\t\t\t\t\t\t/>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</>\n\t\t);\n\t};\n\n\treturn renderPostList();\n}\n","import React, { useContext } from \"react\";\n\nimport PostsContext from \"../../PostsContext\";\n\nexport default function NewPostButton({ day, unscheduled }) {\n\tconst { postsDispatch } = useContext(PostsContext);\n\n\tconst handleNewPost = (e) => {\n\t\te.preventDefault();\n\n\t\tpostsDispatch({\n\t\t\ttype: \"NEW_POST\",\n\t\t\tpost_date: day ? day : new Date(),\n\t\t\tunscheduled: unscheduled ? unscheduled : false,\n\t\t});\n\t};\n\n\treturn (\n\t\t<button className=\"icon newPost\" onClick={handleNewPost}>\n\t\t\tadd_circle\n\t\t</button>\n\t);\n}\n","import { useState, useEffect, useContext } from \"react\";\nimport { format, isSameDay } from \"date-fns\";\nimport { nonce, routeBase, dateFormat } from \"../lib/utils\";\n\nimport PostsContext from \"../PostsContext\";\n\n// TODO: DEV MODE\nimport { DEBUG_MODE } from \"../lib/utils\";\n\nexport const useStickyState = (defaultValue, key) => {\n\tconst [value, setValue] = useState(() => {\n\t\tconst stickyValue = window.localStorage.getItem(key);\n\t\treturn stickyValue !== null ? JSON.parse(stickyValue) : defaultValue;\n\t});\n\n\tuseEffect(() => {\n\t\twindow.localStorage.setItem(key, JSON.stringify(value));\n\t}, [key, value]);\n\treturn [value, setValue];\n};\n\nexport const useDayPosts = (posts, date) => {\n\tlet dayPosts = [];\n\tif (posts) {\n\t\tposts.forEach((post) => {\n\t\t\tif (isSameDay(date, new Date(post.post_date))) {\n\t\t\t\tdayPosts.push(post);\n\t\t\t}\n\t\t});\n\t}\n\n\treturn dayPosts;\n};\n\nexport const useFetchScheduledPosts = (start, end) => {\n\tconst { postsDispatch } = useContext(PostsContext);\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (start !== null && end !== null) {\n\t\t\tlet startDate = format(start, dateFormat.date);\n\t\t\tlet endDate = format(end, dateFormat.date);\n\t\t\tlet url = `${routeBase}/scheduled/${startDate}/${endDate}`;\n\n\t\t\t// TODO: DEV MODE\n\t\t\tvar headers = {};\n\t\t\tif (DEBUG_MODE !== true) {\n\t\t\t\theaders[\"X-WP-Nonce\"] = nonce;\n\t\t\t}\n\t\t\t// ODOT\n\n\t\t\tconst fetchData = async () => {\n\t\t\t\tsetIsLoading(true);\n\n\t\t\t\ttry {\n\t\t\t\t\tconst res = await fetch(url, {\n\t\t\t\t\t\theaders,\n\t\t\t\t\t});\n\t\t\t\t\tconst data = await res.json();\n\n\t\t\t\t\tpostsDispatch({\n\t\t\t\t\t\ttype: \"SET_SCHEDULED\",\n\t\t\t\t\t\tposts: data.posts,\n\t\t\t\t\t\tstart: data.dateRange.start,\n\t\t\t\t\t\tend: data.dateRange.end,\n\t\t\t\t\t});\n\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(\"REST error\", error.message);\n\t\t\t\t\tsetIsLoading(false);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchData();\n\n\t\t\treturn () => {\n\t\t\t\tsetIsLoading(false);\n\t\t\t};\n\t\t}\n\t}, [start, end, postsDispatch]);\n\n\treturn isLoading;\n};\n\nexport const useFetchUnscheduledPosts = () => {\n\tconst {\n\t\tposts: { refetch },\n\t\tpostsDispatch,\n\t} = useContext(PostsContext);\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\tlet url = `${routeBase}/unscheduled`;\n\n\t\t// TODO: DEV MODE\n\t\tvar headers = {};\n\t\tif (DEBUG_MODE !== true) {\n\t\t\theaders[\"X-WP-Nonce\"] = nonce;\n\t\t}\n\t\t// ODOT\n\n\t\tconst fetchData = async () => {\n\t\t\tsetIsLoading(true);\n\n\t\t\ttry {\n\t\t\t\tconst res = await fetch(url, {\n\t\t\t\t\theaders,\n\t\t\t\t});\n\t\t\t\tconst data = await res.json();\n\n\t\t\t\tpostsDispatch({\n\t\t\t\t\ttype: \"SET_UNSCHEDULED\",\n\t\t\t\t\tposts: data.posts,\n\t\t\t\t\tunscheduled: true,\n\t\t\t\t});\n\n\t\t\t\tsetIsLoading(false);\n\t\t\t} catch (error) {\n\t\t\t\tconsole.log(\"REST error\", error.message);\n\t\t\t\tsetIsLoading(false);\n\t\t\t}\n\t\t};\n\n\t\tfetchData();\n\n\t\treturn () => {\n\t\t\tsetIsLoading(false);\n\t\t};\n\t}, [postsDispatch, refetch]);\n\n\treturn isLoading;\n};\n","import React from \"react\";\nimport PostList from \"./PostList\";\nimport NewPostButton from \"./common/NewPostButton\";\nimport { useDayPosts } from \"../lib/hooks\";\n\nexport default function DayPosts({\n\tposts,\n\tdate,\n\tallowDrag,\n\tallowDrop,\n\ttitle,\n\tloadingState,\n}) {\n\tconst dayPosts = useDayPosts(posts, date);\n\n\tconst renderPostList = () => {\n\t\tlet listProps = {\n\t\t\tclassName: \"dayPosts\", // make this a prop/change conditionally\n\t\t\tdate: date,\n\t\t\tposts: dayPosts,\n\t\t\tallowDrop: true,\n\t\t\tloadingState,\n\t\t};\n\n\t\t// Drag control\n\t\tif (allowDrag !== \"undefined\" && allowDrag !== null) {\n\t\t\tlistProps.allowDrag = allowDrag;\n\t\t}\n\n\t\t// Drop control\n\t\tlistProps.allowDrop = allowDrop !== false ? true : false;\n\n\t\tconst renderList = (\n\t\t\t<>\n\t\t\t\t<NewPostButton day={date} unscheduled={false} />\n\t\t\t\t<PostList {...listProps} />\n\t\t\t</>\n\t\t);\n\n\t\tif (title) {\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t\t<h4 className=\"title\">{title}</h4>\n\t\t\t\t\t{renderList}\n\t\t\t\t</>\n\t\t\t);\n\t\t} else {\n\t\t\treturn renderList;\n\t\t}\n\t};\n\n\treturn renderPostList();\n}\n","import React, { useContext, useEffect, useCallback } from \"react\";\nimport Day from \"./Day\";\nimport DayPosts from \"./DayPosts\";\nimport { dateFormat } from \"../lib/utils\";\nimport {\n\tformat,\n\taddDays,\n\taddMonths,\n\tstartOfWeek,\n\tendOfWeek,\n\tisFirstDayOfMonth,\n\tstartOfToday,\n} from \"date-fns\";\n\nimport { useFetchScheduledPosts } from \"../lib/hooks\";\n\nimport PostsContext from \"../PostsContext\";\nimport ViewContext from \"../ViewContext\";\n\nexport default function Calendar() {\n\tconst {\n\t\tposts: { scheduled, refetch },\n\t\tpostsDispatch,\n\t} = useContext(PostsContext);\n\tconst {\n\t\tviewOptions: { monthCount, viewRange },\n\t\tviewOptionsDispatch,\n\t} = useContext(ViewContext);\n\n\tuseEffect(() => {\n\t\tpostsDispatch({\n\t\t\ttype: \"REFETCH\",\n\t\t});\n\t}, [postsDispatch]);\n\n\tuseEffect(() => {\n\t\tlet today = startOfToday();\n\n\t\tviewOptionsDispatch({\n\t\t\ttype: \"SET_RANGE\",\n\t\t\tstart: startOfWeek(today),\n\t\t\tend: endOfWeek(addMonths(today, monthCount)),\n\t\t});\n\t}, [refetch, monthCount, viewOptionsDispatch]);\n\n\tuseFetchScheduledPosts(viewRange.start, viewRange.end);\n\n\tconst renderDaysHeaderRow = useCallback(() => {\n\t\tconst days = [];\n\n\t\tlet startDate = startOfWeek(viewRange.start);\n\n\t\tfor (let i = 0; i < 7; i++) {\n\t\t\tdays.push(\n\t\t\t\t<div className=\"col col__center\" key={i}>\n\t\t\t\t\t{format(addDays(startDate, i), dateFormat.dayName)}\n\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\n\t\treturn <div className=\"days row\">{days}</div>;\n\t}, [viewRange.start]);\n\n\tconst renderDays = useCallback(() => {\n\t\tconst rows = [];\n\n\t\tlet days = [];\n\t\tlet day = viewRange.start;\n\t\tlet firstCalendarDay = true;\n\n\t\twhile (day <= viewRange.end) {\n\t\t\tfor (let i = 0; i < 7; i++) {\n\t\t\t\tconst dayIsFirstDay =\n\t\t\t\t\tisFirstDayOfMonth(day) || firstCalendarDay;\n\n\t\t\t\tdays.push(\n\t\t\t\t\t<Day\n\t\t\t\t\t\tkey={day}\n\t\t\t\t\t\tday={day}\n\t\t\t\t\t\tmonthName={\n\t\t\t\t\t\t\tdayIsFirstDay\n\t\t\t\t\t\t\t\t? format(day, dateFormat.monthShort)\n\t\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t>\n\t\t\t\t\t\t<DayPosts\n\t\t\t\t\t\t\tdate={day}\n\t\t\t\t\t\t\tposts={scheduled}\n\t\t\t\t\t\t\tallowDrag={true}\n\t\t\t\t\t\t\trenderEmpty={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Day>\n\t\t\t\t);\n\n\t\t\t\tfirstCalendarDay = false;\n\t\t\t\tday = addDays(day, 1);\n\t\t\t}\n\n\t\t\trows.push(\n\t\t\t\t<div className=\"row\" key={day}>\n\t\t\t\t\t{days}\n\t\t\t\t</div>\n\t\t\t);\n\t\t\tdays = [];\n\t\t}\n\t\treturn <div className=\"body\">{rows}</div>;\n\t}, [viewRange.end, viewRange.start, scheduled]);\n\n\tconst renderCalendar = () => {\n\t\treturn (\n\t\t\t<div className=\"view__calendar__inner\">\n\t\t\t\t{renderDaysHeaderRow()}\n\t\t\t\t{renderDays()}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"view__calendar\">\n\t\t\t{viewRange.start !== null && viewRange.end !== null\n\t\t\t\t? renderCalendar()\n\t\t\t\t: null}\n\t\t</div>\n\t);\n}\n","import React, { useContext, useEffect } from \"react\";\nimport DayPosts from \"./DayPosts\";\nimport { dateFormat } from \"../lib/utils\";\nimport {\n\tformat,\n\taddMonths,\n\taddDays,\n\tendOfDay,\n\tstartOfToday,\n\tisToday,\n\tisPast,\n} from \"date-fns\";\n\nimport { useFetchScheduledPosts } from \"../lib/hooks\";\n\nimport PostsContext from \"../PostsContext\";\nimport ViewContext from \"../ViewContext\";\n\nexport default function List() {\n\tconst {\n\t\tposts: { scheduled, refetch },\n\t\tpostsDispatch,\n\t} = useContext(PostsContext);\n\n\t//TODO Maybe split this into a separate monthCount for list and calendar (currently shared value)?\n\tconst {\n\t\tviewOptions: { monthCount, viewRange },\n\t\tviewOptionsDispatch,\n\t} = useContext(ViewContext);\n\n\tuseEffect(() => {\n\t\tpostsDispatch({\n\t\t\ttype: \"REFETCH\",\n\t\t});\n\t}, [postsDispatch]);\n\n\tuseEffect(() => {\n\t\t// Set the fetch range\n\t\tlet today = startOfToday();\n\n\t\tviewOptionsDispatch({\n\t\t\ttype: \"SET_RANGE\",\n\t\t\tstart: today,\n\t\t\tend: addMonths(today, monthCount),\n\t\t});\n\t}, [refetch, monthCount, viewOptionsDispatch]);\n\n\tuseFetchScheduledPosts(viewRange.start, viewRange.end);\n\n\tconst renderDays = () => {\n\t\tlet days = [];\n\t\tlet day = viewRange.start;\n\t\tlet classes = [\"listDay\"];\n\n\t\tif (viewRange.end !== \"undefined\" && viewRange.end !== null) {\n\t\t\twhile (endOfDay(day) <= endOfDay(viewRange.end)) {\n\t\t\t\tif (isToday(day)) {\n\t\t\t\t\tclasses.push(\"today\");\n\t\t\t\t}\n\t\t\t\tif (isPast(day) && !isToday(day)) {\n\t\t\t\t\tclasses.push(\"past\");\n\t\t\t\t}\n\t\t\t\tdays.push(\n\t\t\t\t\t<li key={day} className={classes.join(\" \")}>\n\t\t\t\t\t\t<DayPosts\n\t\t\t\t\t\t\tdate={day}\n\t\t\t\t\t\t\tposts={scheduled}\n\t\t\t\t\t\t\tallowDrag={true}\n\t\t\t\t\t\t\ttitle={format(day, dateFormat.fullDate)}\n\t\t\t\t\t\t\tnewPostButton={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</li>\n\t\t\t\t);\n\n\t\t\t\tday = addDays(day, 1);\n\t\t\t}\n\t\t}\n\n\t\treturn days;\n\t};\n\n\tconst renderList = () => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<div className=\"view__list__days\">\n\t\t\t\t\t<ul>{renderDays()}</ul>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t};\n\n\treturn (\n\t\t<div className=\"view__list\">\n\t\t\t{viewRange.start !== null && viewRange.end !== null\n\t\t\t\t? renderList()\n\t\t\t\t: null}\n\t\t</div>\n\t);\n}\n","import React, {\n\tuseContext,\n\tuseRef,\n\tuseEffect,\n\tuseState,\n\tuseReducer,\n} from \"react\";\nimport FieldGroup from \"./common/FieldGroup\";\nimport { updateReducer, initialUpdateState } from \"../lib/updatePost\";\nimport {\n\tdateFormat,\n\tfilterStatusList,\n\trouteBase,\n\tfilterUnchangedParams,\n} from \"../lib/utils\";\nimport DatePicker from \"react-datepicker\";\nimport { format, isFuture, isPast, isToday } from \"date-fns\";\nimport { isEmpty } from \"lodash\";\nimport { decode } from \"html-entities\";\n\nimport PostsContext from \"../PostsContext\";\nimport DragContext from \"../DragContext\";\n\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nconst initialEditPost = {\n\tpost: {},\n\teditMode: false,\n};\n\nfunction editPostReducer(state, action) {\n\tswitch (action.type) {\n\t\tcase \"SET\":\n\t\t\treturn {\n\t\t\t\tpost: action.post,\n\t\t\t\teditMode: true,\n\t\t\t};\n\n\t\tcase \"EDIT\":\n\t\t\tconst { field } = action;\n\t\t\tvar { value } = action;\n\n\t\t\tif (field === \"post_date\") {\n\t\t\t\tvalue = new Date(value);\n\t\t\t}\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpost: {\n\t\t\t\t\t...state.post,\n\t\t\t\t\t[field]: value,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase \"DATE_CHANGE\":\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tpost: {\n\t\t\t\t\t...state.post,\n\t\t\t\t\tpost_date: action.newDate,\n\t\t\t\t},\n\t\t\t};\n\n\t\tcase \"CLEAR\":\n\t\t\treturn initialEditPost;\n\n\t\tdefault:\n\t\t\treturn { state };\n\t}\n}\n\n// TODO Date/time display, add time picker\nexport default function EditPost() {\n\tconst {\n\t\tposts: { currentPost },\n\t\tpostsDispatch,\n\t} = useContext(PostsContext);\n\tconst { draggedPostDispatch } = useContext(DragContext);\n\tconst [editPost, editPostDispatch] = useReducer(\n\t\teditPostReducer,\n\t\tinitialEditPost\n\t);\n\tconst [updatePost, updatePostDispatch] = useReducer(\n\t\tupdateReducer,\n\t\tinitialUpdateState\n\t);\n\tconst node = useRef();\n\tconst [date, setDate] = useState(new Date());\n\tconst [allowedStatuses, setAllowedStatuses] = useState({});\n\tconst [deletePostClicked, setDeletePostClicked] = useState(false);\n\n\tconst { post, editMode } = editPost;\n\n\tuseEffect(() => {\n\t\tif (post.post_date && post.post_date !== \"undefined\") {\n\t\t\tsetDate(new Date(post.post_date));\n\t\t}\n\n\t\treturn () => {\n\t\t\tsetDate(new Date());\n\t\t};\n\t}, [post.post_date]);\n\n\tuseEffect(() => {\n\t\tlet exclude = [];\n\n\t\tif (post.unscheduled === true) {\n\t\t\texclude.push(\"publish\", \"future\", \"pending\");\n\t\t} else if (isFuture(date)) {\n\t\t\texclude.push(\"publish\");\n\t\t} else if (isPast(date)) {\n\t\t\texclude.push(\"future\");\n\t\t}\n\n\t\tconst statusList = filterStatusList(exclude);\n\n\t\tsetAllowedStatuses(statusList);\n\t}, [date, post.unscheduled]);\n\n\t// Update the post\n\tuseEffect(() => {\n\t\tif (updatePost.updateNow === true && currentPost.id !== \"undefined\") {\n\t\t\tupdatePostDispatch({\n\t\t\t\ttype: \"UPDATING\",\n\t\t\t});\n\n\t\t\t// Check if this is a new post\n\t\t\tlet url = `${routeBase}/`;\n\t\t\tif (updatePost.delete === true) {\n\t\t\t\turl += `delete/${currentPost.id}`;\n\t\t\t} else {\n\t\t\t\tif (currentPost.id === 0) {\n\t\t\t\t\turl += \"new\";\n\t\t\t\t} else {\n\t\t\t\t\turl += `update/${currentPost.id}`;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet postData = {\n\t\t\t\tparams: filterUnchangedParams(updatePost.params, currentPost),\n\t\t\t\tunscheduled: updatePost.unscheduled,\n\t\t\t};\n\n\t\t\tif (isEmpty(postData.params)) {\n\t\t\t\treturn { data: \"Update not necessary.\", error: true };\n\t\t\t}\n\n\t\t\tconst fetchData = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst response = await fetch(url, {\n\t\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\t\theaders: { \"Content-Type\": \"application/json\" },\n\t\t\t\t\t\tbody: JSON.stringify(postData),\n\t\t\t\t\t});\n\t\t\t\t\t// const data = await response.json(); // If you need to catch the response...\n\t\t\t\t\tawait response.json();\n\n\t\t\t\t\tdraggedPostDispatch({\n\t\t\t\t\t\ttype: \"END\",\n\t\t\t\t\t});\n\n\t\t\t\t\tupdatePostDispatch({\n\t\t\t\t\t\ttype: \"COMPLETE\",\n\t\t\t\t\t});\n\n\t\t\t\t\t// keep this?\n\t\t\t\t\tpostsDispatch({\n\t\t\t\t\t\ttype: \"SET_CURRENTPOST\",\n\t\t\t\t\t\tpost: post,\n\t\t\t\t\t\tunscheduled: post.unscheduled,\n\t\t\t\t\t});\n\n\t\t\t\t\tpostsDispatch({\n\t\t\t\t\t\ttype: \"REFETCH\",\n\t\t\t\t\t});\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.log(error.message);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchData();\n\t\t}\n\t}, [\n\t\tcurrentPost,\n\t\tpost,\n\t\tdraggedPostDispatch,\n\t\tpostsDispatch,\n\t\tupdatePost.delete,\n\t\tupdatePost.params,\n\t\tupdatePost.updateNow,\n\t\tupdatePost.unscheduled,\n\t]);\n\n\tuseEffect(() => {\n\t\tif (currentPost.id > 0 || currentPost.id === 0) {\n\t\t\teditPostDispatch({\n\t\t\t\ttype: \"SET\",\n\t\t\t\tpost: currentPost,\n\t\t\t});\n\t\t}\n\t}, [currentPost.id, currentPost]);\n\n\tuseEffect(() => {\n\t\tconst handleClickOutside = (e) => {\n\t\t\tif (node.current && node.current.contains(e.target)) {\n\t\t\t\t// inside click\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// outside click\n\t\t\teditPostDispatch({\n\t\t\t\ttype: \"CLEAR\",\n\t\t\t});\n\t\t\tpostsDispatch({\n\t\t\t\ttype: \"UNSET_CURRENTPOST\",\n\t\t\t});\n\t\t};\n\n\t\tif (!isEmpty(currentPost)) {\n\t\t\tdocument.addEventListener(\"mousedown\", handleClickOutside);\n\t\t} else {\n\t\t\tdocument.removeEventListener(\"mousedown\", handleClickOutside);\n\t\t}\n\n\t\treturn () => {\n\t\t\tdocument.removeEventListener(\"mousedown\", handleClickOutside);\n\t\t};\n\t}, [currentPost, postsDispatch]);\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\n\t\tupdatePostDispatch({\n\t\t\ttype: \"UPDATE\",\n\t\t\tparams: {\n\t\t\t\tpost_title: post.post_title,\n\t\t\t\tpost_date: format(new Date(post.post_date), dateFormat.date),\n\t\t\t\tpost_status: post.post_status,\n\t\t\t\tpost_excerpt: post.post_excerpt,\n\t\t\t},\n\t\t\tunscheduled: post.unscheduled,\n\t\t});\n\n\t\teditPostDispatch({\n\t\t\ttype: \"CLEAR\",\n\t\t});\n\t};\n\n\tconst deleteHandler = () => {\n\t\tupdatePostDispatch({\n\t\t\ttype: \"DELETE\",\n\t\t\tparams: {\n\t\t\t\tid: post.id,\n\t\t\t},\n\t\t});\n\n\t\teditPostDispatch({\n\t\t\ttype: \"CLEAR\",\n\t\t});\n\n\t\tsetDeletePostClicked(false);\n\t};\n\n\tconst cancelHandler = () => editPostDispatch({ type: \"CLEAR\" });\n\n\tconst handleInputChange = (e) => {\n\t\teditPostDispatch({\n\t\t\ttype: \"EDIT\",\n\t\t\tfield: e.target.name,\n\t\t\tvalue: e.target.value,\n\t\t});\n\t};\n\n\tconst handleCheckboxToggle = (e) => {\n\t\teditPostDispatch({\n\t\t\ttype: \"EDIT\",\n\t\t\tfield: e.target.name,\n\t\t\tvalue: !post[e.target.name],\n\t\t});\n\t};\n\n\tconst handleInputDateChange = (date) => {\n\t\teditPostDispatch({\n\t\t\ttype: \"EDIT\",\n\t\t\tfield: \"post_date\",\n\t\t\tvalue: date,\n\t\t});\n\t};\n\n\tconst renderStatusOptions = (statusList) => {\n\t\treturn Object.keys(statusList).map((status) => (\n\t\t\t<option key={status} value={status}>\n\t\t\t\t{statusList[status].name}\n\t\t\t</option>\n\t\t));\n\t};\n\n\treturn editMode ? (\n\t\t<div className={`editPost`}>\n\t\t\t<div className=\"editPost__container\">\n\t\t\t\t<div ref={node} className=\"editPost__editor\">\n\t\t\t\t\t<h3 className=\"title\">\n\t\t\t\t\t\t{post.id === 0 ? \"New\" : \"Edit\"} Post\n\t\t\t\t\t</h3>\n\t\t\t\t\t<form\n\t\t\t\t\t\tclassName=\"editPost__editor__form\"\n\t\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\t<FieldGroup name=\"post_title\" label=\"Title\">\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\tname=\"post_title\"\n\t\t\t\t\t\t\t\tvalue={decode(post.post_title, {\n\t\t\t\t\t\t\t\t\tscope: \"strict\",\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t\t<FieldGroup name=\"date\">\n\t\t\t\t\t\t\t{/* TODO prompt to make scheduled when changing an Unscheduled Draft date? */}\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tclassName={`fieldGroup__field post_date ${\n\t\t\t\t\t\t\t\t\tpost.unscheduled === true\n\t\t\t\t\t\t\t\t\t\t? \"inactive\"\n\t\t\t\t\t\t\t\t\t\t: \"active\"\n\t\t\t\t\t\t\t\t}`}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<label htmlFor=\"post_date\">Post Date</label>\n\t\t\t\t\t\t\t\t<DatePicker\n\t\t\t\t\t\t\t\t\tcloseOnScroll={(e) => e.target === document}\n\t\t\t\t\t\t\t\t\tselected={date}\n\t\t\t\t\t\t\t\t\tonChange={handleInputDateChange}\n\t\t\t\t\t\t\t\t\tdisabled={\n\t\t\t\t\t\t\t\t\t\tcurrentPost.post_date &&\n\t\t\t\t\t\t\t\t\t\t(isToday(currentPost.post_date) ||\n\t\t\t\t\t\t\t\t\t\t\tisPast(currentPost.post_date)) &&\n\t\t\t\t\t\t\t\t\t\tcurrentPost.post_status === \"publish\"\n\t\t\t\t\t\t\t\t\t\t\t? true\n\t\t\t\t\t\t\t\t\t\t\t: false\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"fieldGroup__field unscheduled\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\t\t\tname=\"unscheduled\"\n\t\t\t\t\t\t\t\t\tchecked={post.unscheduled}\n\t\t\t\t\t\t\t\t\tonChange={handleCheckboxToggle}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label htmlFor=\"unscheduled\">Unscheduled</label>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</FieldGroup>\n\t\t\t\t\t\t<FieldGroup name=\"post_status\" label=\"Status\">\n\t\t\t\t\t\t\t<select\n\t\t\t\t\t\t\t\tname=\"post_status\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\tvalue={post.post_status}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{renderStatusOptions(allowedStatuses)}\n\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t</FieldGroup>\n\n\t\t\t\t\t\t<FieldGroup name=\"taxonomies\" label=\"Categories & Tags\">\n\t\t\t\t\t\t\t<p>Coming soon</p>\n\t\t\t\t\t\t</FieldGroup>\n\n\t\t\t\t\t\t<FieldGroup name=\"post_excerpt\" label=\"Excerpt\">\n\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\tname=\"post_excerpt\"\n\t\t\t\t\t\t\t\tonChange={handleInputChange}\n\t\t\t\t\t\t\t\trows={4}\n\t\t\t\t\t\t\t\tvalue={decode(post.post_excerpt, {\n\t\t\t\t\t\t\t\t\tscope: \"strict\",\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</FieldGroup>\n\n\t\t\t\t\t\t<div className=\"post_thumb\">\n\t\t\t\t\t\t\t{post.image ? (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<span>Featured Image</span>\n\t\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\t\thref={decode(post.edit_link)}\n\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\t\tsrc={post.image}\n\t\t\t\t\t\t\t\t\t\t\talt={`${post.post_title}`}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<div className=\"editPost__buttons\">\n\t\t\t\t\t\t\t{deletePostClicked === true ? (\n\t\t\t\t\t\t\t\t<div className=\"editPost__buttons__delete confirm\">\n\t\t\t\t\t\t\t\t\t<p style={{ fontWeight: \"bold\" }}>\n\t\t\t\t\t\t\t\t\t\tAre you sure you want to Trash this\n\t\t\t\t\t\t\t\t\t\tpost?\n\t\t\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tonClick={deleteHandler}\n\t\t\t\t\t\t\t\t\t\tvalue=\"Yes\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tsetDeletePostClicked(false)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvalue=\"No\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"editPost__buttons__save\"\n\t\t\t\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\t\t\t\tpost.id === 0 ? \"Save\" : \"Update\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"editPost__buttons__cancel\"\n\t\t\t\t\t\t\t\t\t\tonClick={cancelHandler}\n\t\t\t\t\t\t\t\t\t\tvalue=\"Cancel\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"editPost__buttons__delete\"\n\t\t\t\t\t\t\t\t\t\tonClick={() =>\n\t\t\t\t\t\t\t\t\t\t\tsetDeletePostClicked(true)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvalue=\"Delete\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t) : null;\n}\n","import React, { useContext } from \"react\";\nimport Calendar from \"./Calendar\";\nimport List from \"./List\";\nimport EditPost from \"./EditPost\";\n\nimport ViewContext from \"../ViewContext\";\n\nexport default function Main() {\n\tconst {\n\t\tviewOptions: { viewMode },\n\t} = useContext(ViewContext);\n\n\treturn (\n\t\t<main className=\"calendario__main\">\n\t\t\t<div className=\"view\">\n\t\t\t\t{viewMode === \"calendar\" ? <Calendar /> : <List />}\n\t\t\t</div>\n\t\t\t<EditPost />\n\t\t</main>\n\t);\n}\n","import React, { useContext, useEffect } from \"react\";\nimport PostList from \"./PostList\";\nimport NewPostButton from \"./common/NewPostButton\";\nimport { useFetchUnscheduledPosts } from \"../lib/hooks\";\n\nimport PostsContext from \"../PostsContext\";\n\nexport default function UnscheduledDrafts() {\n\tconst {\n\t\tposts: { unscheduled },\n\t\tpostsDispatch,\n\t} = useContext(PostsContext);\n\n\tuseEffect(() => {\n\t\tpostsDispatch({\n\t\t\ttype: \"REFETCH\",\n\t\t});\n\t}, [postsDispatch]);\n\n\tconst isLoading = useFetchUnscheduledPosts();\n\n\treturn (\n\t\t<>\n\t\t\t<PostList\n\t\t\t\tclassName=\"unscheduledDrafts\"\n\t\t\t\tdate={false}\n\t\t\t\tposts={unscheduled}\n\t\t\t\tallowDrag={true}\n\t\t\t\tloadingState={isLoading}\n\t\t\t/>\n\t\t\t<NewPostButton unscheduled={true} />\n\t\t</>\n\t);\n}\n","import React from \"react\";\nimport { postStatuses } from \"../lib/utils\";\n\nexport default function StatusFilters() {\n\tconst keys = Object.keys(postStatuses);\n\n\treturn (\n\t\t<div className=\"statusFilters\">\n\t\t\t<p style={{ fontSize: \"0.8em\" }}>\n\t\t\t\tYou'll be able to click me one day...\n\t\t\t</p>\n\t\t\t<ul className=\"filters\">\n\t\t\t\t{keys.map((item, index) => {\n\t\t\t\t\tconst { color, backgroundColor, name } = postStatuses[item];\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<li\n\t\t\t\t\t\t\tclassName={`filterItem status__${item}`}\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<span\n\t\t\t\t\t\t\t\tclassName=\"dot\"\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tcolor,\n\t\t\t\t\t\t\t\t\tbackgroundColor,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<span className=\"name\">{name}</span>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</ul>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport UnscheduledDrafts from \"./UnscheduledDrafts\";\nimport StatusFilters from \"./StatusFilters\";\nimport { renderWidget } from \"../lib/utils\";\n\nexport default function Sidebar() {\n\treturn (\n\t\t<aside className=\"calendario__sidebar\">\n\t\t\t<div className=\"calendario__sidebar__inner\">\n\t\t\t\t{renderWidget(\n\t\t\t\t\t\"Unscheduled Drafts\",\n\t\t\t\t\t\"unscheduledDrafts\",\n\t\t\t\t\t<UnscheduledDrafts />\n\t\t\t\t)}\n\n\t\t\t\t{renderWidget(\"\", \"viewOptions noBorder\", <StatusFilters />)}\n\n\t\t\t\t{renderWidget(\n\t\t\t\t\t\"Calendario II: The Datening\",\n\t\t\t\t\t\"dev\",\n\t\t\t\t\t<>\n\t\t\t\t\t\t<ul\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\t\tpaddingLeft: \"24px\",\n\t\t\t\t\t\t\t\tlistStylePosition: \"outside\",\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref=\"https://github.com/gaswirth/rhdwp-calendario#readme\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tTODO/Readme\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref=\"https://github.com/gaswirth/rhdwp-calendario/issues\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tReport a bug/issue\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\tGitHub:{\" \"}\n\t\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\t\thref=\"https://github.com/gaswirth/rhdwp-calendario\"\n\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tgaswirth/rhdwp-calendario\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t\t<p style={{ fontSize: \"0.7em\" }}>\n\t\t\t\t\t\t\t<a\n\t\t\t\t\t\t\t\thref=\"https://roundhouse-designs.com\"\n\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\trel=\"noreferrer\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tRoundhouse Designs\n\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</aside>\n\t);\n}\n","import React, { useEffect, useReducer, Profiler } from \"react\";\nimport Header from \"./components/Header\";\nimport Main from \"./components/Main\";\nimport Sidebar from \"./components/Sidebar\";\nimport { useStickyState } from \"./lib/hooks\";\n\nimport PostsContext, { postsReducer, initialPosts } from \"./PostsContext\";\nimport DragContext, { dragReducer, initialDrag } from \"./DragContext\";\nimport ViewContext, { viewReducer, initialViewOptions } from \"./ViewContext\";\n\nimport \"./App.scss\";\n\nexport default function App() {\n\tconst [posts, postsDispatch] = useReducer(postsReducer, initialPosts);\n\tconst [draggedPost, draggedPostDispatch] = useReducer(\n\t\tdragReducer,\n\t\tinitialDrag\n\t);\n\tconst [viewOptions, viewOptionsDispatch] = useReducer(\n\t\tviewReducer,\n\t\tinitialViewOptions\n\t);\n\tconst [view, setView] = useStickyState(\n\t\t{\n\t\t\tviewMode: \"calendar\",\n\t\t\tmonthCount: 1,\n\t\t},\n\t\t\"viewOptions\"\n\t);\n\n\tuseEffect(() => {\n\t\t// Update the context just initially\n\t\tviewOptionsDispatch({\n\t\t\ttype: \"UPDATE_OPTION\",\n\t\t\tmonthCount: view.monthCount,\n\t\t\tviewMode: view.viewMode,\n\t\t});\n\t\t//eslint-disable-next-line\n\t}, []);\n\n\tuseEffect(() => {\n\t\t// Store the values if it's updated elsewhere\n\t\tsetView({\n\t\t\tviewMode: viewOptions.viewMode,\n\t\t\tmonthCount: viewOptions.monthCount,\n\t\t});\n\t}, [setView, viewOptions.viewMode, viewOptions.monthCount]);\n\n\tfunction mainRenderCallback(\n\t\tid,\n\t\tphase,\n\t\tactualDuration,\n\t\tbaseDuration,\n\t\tstartTime,\n\t\tcommitTime,\n\t\tinteractions\n\t) {}\n\n\treturn (\n\t\t<div className={`calendario`}>\n\t\t\t<Profiler id=\"Main\" onRender={mainRenderCallback}>\n\t\t\t\t<ViewContext.Provider\n\t\t\t\t\tvalue={{ viewOptions, viewOptionsDispatch }}\n\t\t\t\t>\n\t\t\t\t\t<PostsContext.Provider value={{ posts, postsDispatch }}>\n\t\t\t\t\t\t<Header />\n\n\t\t\t\t\t\t<DragContext.Provider\n\t\t\t\t\t\t\tvalue={{ draggedPost, draggedPostDispatch }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Main />\n\t\t\t\t\t\t\t<Sidebar />\n\t\t\t\t\t\t</DragContext.Provider>\n\t\t\t\t\t</PostsContext.Provider>\n\t\t\t\t</ViewContext.Provider>\n\t\t\t</Profiler>\n\t\t</div>\n\t);\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.scss\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\n// TODO: DEV MODE\nimport { DEBUG_MODE } from \"./lib/utils\";\n\nvar reactAppData, appAnchorElement;\nif (DEBUG_MODE !== true) {\n\t// live values\n\treactAppData = window.rhdReactPlugin || {};\n\tconst { appSelector } = reactAppData;\n\tappAnchorElement = document.querySelector(appSelector);\n} else {\n\t// Dev\n\tappAnchorElement = document.getElementById(\"root\");\n}\n// ODOT\n\nif (appAnchorElement) {\n\tReactDOM.render(\n\t\t<React.StrictMode>\n\t\t\t<App />\n\t\t</React.StrictMode>,\n\t\tappAnchorElement\n\t);\n}\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}